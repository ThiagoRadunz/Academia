CREATE TABLE USUARIOS
(
ID INT PRIMARY KEY IDENTITY,
NOME VARCHAR(70) NOT NULL,
EMAIL VARCHAR(100) NOT NULL,
SENHA VARCHAR(10) NOT NULL,
FUNCAO INT NOT NULL,
CONSTRAINT UC_USUARIOS UNIQUE (EMAIL)
)


CREATE TABLE INSTRUTORES
(
ID INT PRIMARY KEY IDENTITY,
USUARIOID INT NOT NULL,
FONE VARCHAR(15) NOT NULL,
CPF CHAR(11) NOT NULL,
DATA_NASCIMENTO DATE NOT NULL,
RG VARCHAR(15) NOT NULL,
ESTADO INT NOT NULL,
CIDADE VARCHAR(20) NOT NULL,
BAIRRO VARCHAR(20) NOT NULL,
RUA VARCHAR(50) NOT NULL,
NUMERO INT NOT NULL,
SALARIO FLOAT NOT NULL,
COMISSAO FLOAT NOT NULL,
ATIVO BIT NOT NULL,
CONSTRAINT UC_INSTRUTORES UNIQUE (CPF, RG),
CONSTRAINT FK_USUARIOS FOREIGN KEY (USUARIOID) REFERENCES USUARIOS (ID)
)

CREATE TABLE ATENDENTES
(
ID INT PRIMARY KEY IDENTITY,
USUARIOID INT NOT NULL,
FONE VARCHAR(15) NOT NULL,
CPF CHAR(11) NOT NULL,
DATA_NASCIMENTO DATE NOT NULL,
RG VARCHAR(15) NOT NULL,
ESTADO INT NOT NULL,
CIDADE VARCHAR(20) NOT NULL,
BAIRRO VARCHAR(20) NOT NULL,
RUA VARCHAR(50) NOT NULL,
NUMERO INT NOT NULL,
SALARIO FLOAT NOT NULL,
COMISSAO FLOAT NOT NULL,
ATIVO BIT NOT NULL,
CONSTRAINT UC_ATENDENTES UNIQUE (CPF, RG),
CONSTRAINT FK_USUARIOS_ATENDENTES FOREIGN KEY (USUARIOID) REFERENCES USUARIOS (ID)
)

CREATE TABLE CLIENTES
(
ID INT PRIMARY KEY IDENTITY,
NOME VARCHAR(70) NOT NULL,
CPF CHAR(11) NOT NULL,
RG VARCHAR(15) NOT NULL,
DATA_NASCIMENTO DATE NOT NULL,
EMAIL VARCHAR(100) NOT NULL,
FONE_CELULAR VARCHAR (15) NOT NULL,
FONE_FIXO VARCHAR (15) NULL,
DATA_MATRICULA DATE NOT NULL DEFAULT GETDATE(),
ATIVO BIT NOT NULL,
CONSTRAINT UC_CLIENTES UNIQUE (CPF, RG, EMAIL)
)

CREATE TABLE CATEGORIAS
(
ID INT PRIMARY KEY IDENTITY,
NOME VARCHAR(30) NOT NULL,
CONSTRAINT UC_CATEGORIAS UNIQUE (NOME)
)

CREATE TABLE PLANOS
(
ID INT PRIMARY KEY IDENTITY,
CATEGORIAID INT NOT NULL,
CONSTRAINT FK_CATEGORIAS FOREIGN KEY (CATEGORIAID) REFERENCES CATEGORIAS (ID),
QTDD_AULA_SEMANA INT NOT NULL,
QTDD_MES INT NOT NULL,
VALOR FLOAT NOT NULL,
)


CREATE TABLE PLANOS_INSTRUTOR_CLIENTE
(
ID INT PRIMARY KEY IDENTITY,
INSTRUTORID INT NOT NULL,
CONSTRAINT FK_INSTRUTORES FOREIGN KEY (INSTRUTORID) REFERENCES INSTRUTORES (ID),
PLANOID INT NOT NULL,
CONSTRAINT FK_PLANOS FOREIGN KEY (PLANOID) REFERENCES PLANOS (ID),
CLIENTEID INT NOT NULL,
CONSTRAINT FK_CLIENTES FOREIGN KEY (CLIENTEID) REFERENCES CLIENTES (ID),
FORMA_PAGAMENTOID INT NOT NULL,
CONSTRAINT FK_FORMAS_PAGAMENTO FOREIGN KEY (FORMA_PAGAMENTOID) REFERENCES FORMAS_PAGAMENTO (ID),
DATA_ADESAO_CONTRATO DATE NOT NULL,
DATA_TERMINO_CONTRATO DATE NOT NULL
)


CREATE TABLE FORMAS_PAGAMENTO
(
ID INT PRIMARY KEY IDENTITY,
DESCRICAO VARCHAR(30) NOT NULL,
CONSTRAINT UC_FORMAS_PAGAMENTO UNIQUE (DESCRICAO)
)

CREATE TABLE PRODUTOS
(
ID INT PRIMARY KEY IDENTITY,
NOME VARCHAR(50) NOT NULL,
DESCRICAO VARCHAR(50) NULL,
CATEGORIAID INT NOT NULL,
PRECO_UNITARIO FLOAT NOT NULL,
QTD_ESTOQUE FLOAT NOT NULL,
CONSTRAINT FK_CATEGORIAS_PROD FOREIGN KEY (CATEGORIAID) REFERENCES CATEGORIAS (ID),
CONSTRAINT UC_PRODUTOS UNIQUE (NOME,DESCRICAO)
)

CREATE TABLE ENTRADAS_PRODUTO_CX
(
ID INT PRIMARY KEY IDENTITY,
DATA_ENTRADA DATETIME2 NOT NULL DEFAULT GETDATE(),
VALORTOTAL FLOAT NOT NULL,
USUARIOID INT NOT NULL,
CONSTRAINT FK_USUARIOS_ENT_PROD_CX FOREIGN KEY (USUARIOID) REFERENCES USUARIOS (ID)
)


CREATE TABLE ITENS_CAIXA_ENTRADA
(
ENTRADAID INT NOT NULL,
PRODUTOID INT NOT NULL,
QUANTIDADE FLOAT NOT NULL,
VALOR_UNITARIO FLOAT NOT NULL,
PRIMARY KEY (ENTRADAID, PRODUTOID),
CONSTRAINT FK_ENT_PROD_CX_ITENS FOREIGN KEY (ENTRADAID) REFERENCES ENTRADAS_PRODUTO_CX (ID),
CONSTRAINT FK_PROD_ITENS_ENT FOREIGN KEY (PRODUTOID) REFERENCES PRODUTOS (ID)
)

CREATE TABLE VENDAS
(
ID INT PRIMARY KEY IDENTITY,
DATA_SAIDA  DATETIME2 NOT NULL DEFAULT GETDATE(),
VALORTOTAL FLOAT NOT NULL,
USUARIOID INT NOT NULL,
CLIENTEID INT NOT NULL,
CONSTRAINT FK_USUARIOS_VENDAS FOREIGN KEY (USUARIOID) REFERENCES USUARIOS (ID),
CONSTRAINT FK_CLIENTES_VENDAS FOREIGN KEY (CLIENTEID) REFERENCES CLIENTES (ID)
)


CREATE TABLE ITENS_VENDA
(
VENDAID INT NOT NULL,
PRODUTOID INT NOT NULL REFERENCES PRODUTOS,
QUANTIDADE FLOAT NOT NULL,
VALOR_UNITARIO FLOAT NOT NULL,
CONSTRAINT PK_VENDA_OU_PROD PRIMARY KEY (VENDAID, PRODUTOID),
CONSTRAINT FK_VENDAS_ITENS_VENDA FOREIGN KEY (VENDAID) REFERENCES VENDAS (ID),
CONSTRAINT FK_PROD_ITENS_VENDA FOREIGN KEY (PRODUTOID) REFERENCES PRODUTOS (ID),
)





______________________________________________________________________________________________________________________

INSERT INTO USUARIOS (NOME, EMAIL, SENHA, FUNCAO) 
VALUES ('Arnold Schwarzenegger', 'arnold@arnoldhealthclub.com', 'Pa55w.rd', 1)
INSERT INTO USUARIOS (NOME, EMAIL, SENHA, FUNCAO) 
VALUES ('Lucas', 'instrutorlucas@arnoldhealthclub.com', 'Pa55w.rd', 2)
INSERT INTO USUARIOS (NOME, EMAIL, SENHA, FUNCAO) 
VALUES ('Eduardo', 'recepcaoeduardo@arnoldhealthclub.com', 'Pa55w.rd', 3)
INSERT INTO USUARIOS (NOME, EMAIL, SENHA, FUNCAO) 
VALUES ('Cezar', 'cezar.atendimento@arnold.com', 'Pa55w.rd', 3) *ID23*

INSERT INTO INSTRUTORES (USUARIOID, FONE, CPF, DATA_NASCIMENTO, RG, ESTADO, CIDADE, BAIRRO, RUA, NUMERO, SALARIO, COMISSAO, ATIVO)
VALUES (2, '47 55555-4444', '12345123451', '06/06/1985', '12345123', 23, 'Blumenau', 'Centro', 'Amadeu da Luz', 456, 1700.54, 10, 1)

INSERT INTO ATENDENTES (USUARIOID, FONE, CPF, DATA_NASCIMENTO, RG, ESTADO, CIDADE, BAIRRO, RUA, NUMERO, SALARIO, COMISSAO, ATIVO)
VALUES (23, '47 9923-0444', '33619823081', '1989/10/25', '25.814.141-4', 23, 'Blumenau', 'Vila Nova', 'Paraiba', 26, 1500.30, 2, 1) *ID04*

INSERT INTO CATEGORIAS (NOME)
VALUES ('Natação')
INSERT INTO CATEGORIAS (NOME)
VALUES ('Musculação')
INSERT INTO CATEGORIAS (NOME)
VALUES ('Zumba')
INSERT INTO CATEGORIAS (NOME)
VALUES ('Ginástica')

INSERT INTO CLIENTES (NOME, CPF, RG, DATA_NASCIMENTO, EMAIL, FONE_CELULAR, FONE_FIXO, DATA_MATRICULA, ATIVO)
VALUES ('Jaime Dellabenetta', '90090090090', '12345123', '05/05/1975', 'jaimedellabenetta@gmail.com', '47 9999-1111', null, '02/02/2021', 1)

INSERT INTO FORMAS_PAGAMENTO VALUES ('Dinheiro')
INSERT INTO FORMAS_PAGAMENTO VALUES ('Crédito')
INSERT INTO FORMAS_PAGAMENTO VALUES ('Débito')
INSERT INTO FORMAS_PAGAMENTO VALUES ('Pix')

INSERT INTO PLANOS (CATEGORIAID, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES (2, 120, 7, 1)
INSERT INTO PLANOS (CATEGORIAID, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES (2, 300, 7, 3)
INSERT INTO PLANOS (CATEGORIAID, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES (2, 480, 7, 6)
INSERT INTO PLANOS (CATEGORIAID, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES (1, 100, 1, 1)
INSERT INTO PLANOS (CATEGORIAID, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES (1, 150, 2, 1)
INSERT INTO PLANOS (CATEGORIAID, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES (1, 240, 1, 3)
INSERT INTO PLANOS (CATEGORIAID, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES (1, 390, 2, 3)
INSERT INTO PLANOS (CATEGORIAID, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES (1, 420, 1, 6)
INSERT INTO PLANOS (CATEGORIAID, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES (1, 700, 2, 6)

INSERT INTO PLANOS_INSTRUTOR_CLIENTE (INSTRUTORID, PLANOID, CLIENTEID, FORMA_PAGAMENTOID, DATA_ADESAO_CONTRATO,
DATA_TERMINO_CONTRATO)
VALUES (1, 2, 1, 2, '2021/02/15', '2021/08/15')
INSERT INTO PLANOS_INSTRUTOR_CLIENTE (INSTRUTORID, PLANOID, CLIENTEID, FORMA_PAGAMENTOID, DATA_ADESAO_CONTRATO,
DATA_TERMINO_CONTRATO)
VALUES (1, 4, 1, 2, '2021/02/15', '2021/08/15')

INSERT INTO PRODUTOS (NOME, DESCRICAO, CATEGORIAID, PRECO_UNITARIO, QTD_ESTOQUE)
VALUES ('Altere', 'Par de alteres 1kg cada', 2, 30, 5)
INSERT INTO PRODUTOS (NOME, DESCRICAO, CATEGORIAID, PRECO_UNITARIO, QTD_ESTOQUE)
VALUES ('BCAA', 'Pote 100 capsulas', 2, 25.50 , 20)
INSERT INTO PRODUTOS (NOME, DESCRICAO, CATEGORIAID, PRECO_UNITARIO, QTD_ESTOQUE)
VALUES ('Whey Protein', 'Pote 1kg', 2, 125.70 , 10)

INSERT INTO ENTRADAS_PRODUTO_CX (VALORTOTAL, USUARIOID)
VALUES (1917, 3)

INSERT INTO ITENS_CAIXA_ENTRADA (ENTRADAID, PRODUTOID, QUANTIDADE, VALOR_UNITARIO)
VALUES (1, 1, 5, 30)
INSERT INTO ITENS_CAIXA_ENTRADA (ENTRADAID, PRODUTOID, QUANTIDADE, VALOR_UNITARIO)
VALUES (1, 2, 20, 25.5)
INSERT INTO ITENS_CAIXA_ENTRADA (ENTRADAID, PRODUTOID, QUANTIDADE, VALOR_UNITARIO)
VALUES (1, 3, 10, 125.7)

public int IDAtendente { get; set; }
        public Usuario Usuario { get; set; }
                    UsuarioID
                    Usuario Nome
                    Usuario Email
                    Usuario Funcao
        public string TelefoneCelular { get; set; }
        public string CPF { get; set; }
        public DateTime DataNascimento { get; set; }
        public string RG { get; set; }
        public string Estado { get; set; }
        public string Cidade { get; set; }
        public string Bairro { get; set; }
        public string Rua { get; set; }
        public int Numero { get; set; }
        public double Salario { get; set; }
        public double Comissao { get; set; }
        public bool Ativo { get; set; }
