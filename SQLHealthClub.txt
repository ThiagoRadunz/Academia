CREATE TABLE ADMINISTRADORES
(
ID INT PRIMARY KEY IDENTITY,
NOME VARCHAR(70) NOT NULL,
EMAIL VARCHAR(100) NOT NULL,
SENHA VARCHAR(10) NOT NULL,
ATIVO BIT NOT NULL
)

CREATE TABLE FORNECEDORES
(
ID INT PRIMARY KEY IDENTITY,
NOME VARCHAR(70) NOT NULL,
NOME_FANTASIA VARCHAR(70) NOT NULL,
CNPJ VARCHAR(20) NOT NULL UNIQUE,
EMAIL VARCHAR(100) NOT NULL UNIQUE,
FONE VARCHAR (15) NOT NULL,
ESTADO INT NOT NULL,
CIDADE VARCHAR(40) NOT NULL,
BAIRRO VARCHAR(40) NOT NULL,
RUA VARCHAR(70) NOT NULL,
NUMERO INT NOT NULL,
ATIVO BIT NOT NULL
)

CREATE TABLE CATEGORIAS
(
ID INT PRIMARY KEY IDENTITY,
NOME VARCHAR(30) NOT NULL
)

CREATE TABLE PLANOS
(
ID INT PRIMARY KEY IDENTITY,
CATEGORIA_ID_FK INT NOT NULL,
FOREIGN KEY (CATEGORIA_ID_FK) REFERENCES CATEGORIAS (ID),
QTDD_AULA_SEMANA INT NOT NULL,
VALOR FLOAT NOT NULL,
)

CREATE TABLE INSTRUTORES
(
ID INT PRIMARY KEY IDENTITY,
NOME VARCHAR(70) NOT NULL,
EMAIL VARCHAR(100) NOT NULL,
SENHA VARCHAR(10) NOT NULL,
FONE VARCHAR(15) NOT NULL,
CPF CHAR(11) NOT NULL UNIQUE,
DATA_NASCIMENTO DATE NOT NULL,
RG VARCHAR(15) NOT NULL UNIQUE,
ESTADO INT NOT NULL,
CIDADE VARCHAR(20) NOT NULL,
BAIRRO VARCHAR(20) NOT NULL,
RUA VARCHAR(50) NOT NULL,
NUMERO INT NOT NULL,
SALARIO FLOAT NOT NULL,
COMISSAO FLOAT NOT NULL,
ATIVO BIT NOT NULL
)

CREATE TABLE MODALIDADES_INSTRUTOR_CLIENTE
(
INSTRUTOR_ID_FK INT NOT NULL,
FOREIGN KEY (INSTRUTOR_ID_FK) REFERENCES INSTRUTORES (ID),
PLANO_ID_FK INT NOT NULL,
FOREIGN KEY (PLANO_ID_FK) REFERENCES PLANOS (ID),
CLIENTE_ID_FK INT NOT NULL,
FOREIGN KEY (CLIENTE_ID_FK) REFERENCES CLIENTES (ID)
)

CREATE TABLE ADMINISTRATIVOS
(
ID INT PRIMARY KEY IDENTITY,
NOME VARCHAR(70) NOT NULL,
EMAIL VARCHAR(100) NOT NULL,
SENHA VARCHAR(10) NOT NULL,
FONE VARCHAR(15) NOT NULL,
CPF CHAR(11) NOT NULL UNIQUE,
RG VARCHAR(15) NOT NULL UNIQUE,
DATA_NASCIMENTO DATE NOT NULL,
ESTADO INT NOT NULL,
CIDADE VARCHAR(20) NOT NULL,
BAIRRO VARCHAR(20) NOT NULL,
RUA VARCHAR(50) NOT NULL,
NUMERO INT NOT NULL,
SALARIO FLOAT NOT NULL,
COMISSAO FLOAT NOT NULL,
ATIVO BIT NOT NULL
)

CREATE TABLE USUARIOS
(
ID INT PRIMARY KEY IDENTITY,
NOME VARCHAR(70) NOT NULL,
EMAIL VARCHAR(100) NOT NULL,
SENHA VARCHAR(10) NOT NULL,
FUNCAO VARCHAR(20) NOT NULL
)

CREATE TABLE CONVENIOS
(
ID INT PRIMARY KEY IDENTITY,
EMPRESA VARCHAR(70) NOT NULL,
NOME_RESPONSAVEL VARCHAR(70) NOT NULL,
EMAIL_RESPONSAVEL VARCHAR(100) NOT NULL UNIQUE,
FONE_RESPONSAVEL VARCHAR (15) NOT NULL,
DATA_CONTRATO DATE NOT NULL DEFAULT GETDATE(),
PORCENTAGEM INT NOT NULL,
ATIVO BIT NOT NULL
)

CREATE TABLE CLIENTES
(
ID INT PRIMARY KEY IDENTITY,
NOME VARCHAR(70) NOT NULL,
CONVENIO_ID_FK INT NULL,
FOREIGN KEY (CONVENIO_ID_FK) REFERENCES CONVENIOS (ID),
CPF CHAR(11) NOT NULL UNIQUE,
DATANASCIMENTO DATE NOT NULL,
EMAIL VARCHAR(100) NOT NULL UNIQUE,
FONE_CELULAR VARCHAR (15) NOT NULL,
FONE_FIXO VARCHAR (15) NULL,
DATAMATRICULA DATE NOT NULL DEFAULT GETDATE(),
DATA_ADESAO_CONTRATO DATE NOT NULL,
DATA_TERMINO_CONTRATO DATE NOT NULL,
ATIVO BIT NOT NULL
)

CREATE TABLE FORMAS_PAGAMENTO
(
ID INT PRIMARY KEY IDENTITY,
DESCRICAO VARCHAR(30) NOT NULL UNIQUE
)

CREATE TABLE PRODUTOS
(
ID INT PRIMARY KEY IDENTITY,
NOME VARCHAR(50) NOT NULL,
DESCRICAO VARCHAR(50) NULL,
MODALIDADES_ID_FK INT NOT NULL,
FOREIGN KEY (MODALIDADES_ID_FK) REFERENCES MODALIDADES(ID),
PRECO_UNITARIO FLOAT NOT NULL,
DATA_VENCIMENTO DATE,
FORNECEDOR_ID_FK INT NOT NULL,
FOREIGN KEY (FORNECEDOR_ID_FK) REFERENCES FORNECEDORES(ID)
)

CREATE TABLE ITENS_CAIXA_ENTRADA
(
ID INT PRIMARY KEY IDENTITY,
PRODUTO_ID_FK INT NOT NULL,
FOREIGN KEY (PRODUTO_ID_FK) REFERENCES PRODUTOS, 
QUANTIDADE INT NOT NULL,
VALOR_UNIT_PROD_ID_FK INT NOT NULL,
FOREIGN KEY (VALOR_UNIT_PROD_ID_FK) REFERENCES PRODUTOS(ID)
)

CREATE TABLE CAIXA_ENTRADA
(
ID INT PRIMARY KEY IDENTITY,
DATA_ENTRADA DATETIME2 NOT NULL DEFAULT GETDATE(),
ITENS_ENTRADA_ID_FK INT NOT NULL,
FOREIGN KEY (ITENS_ENTRADA_ID_FK) REFERENCES ITENS_CAIXA_ENTRADA(ID),
VALORTOTAL FLOAT NOT NULL
)

CREATE TABLE ESTOQUE
(
ID INT PRIMARY KEY IDENTITY,
PRODUTO_ID_FK INT NOT NULL,
FOREIGN KEY (PRODUTO_ID_FK) REFERENCES PRODUTOS(ID),
QUANTIDADE INT NOT NULL,
VALOR_TOTAL FLOAT NOT NULL
)

CREATE TABLE SAIDAS_PRODUTO
(
ID INT PRIMARY KEY IDENTITY,
DATAVENDA DATETIME2 NOT NULL DEFAULT GETDATE(),
CLIENTE_ID_FK INT NOT NULL,
FOREIGN KEY (CLIENTE_ID_FK) REFERENCES CLIENTES(ID),
ADMINISTRATIVO_ID_FK INT NOT NULL,
FOREIGN KEY (ADMINISTRATIVO_ID_FK) REFERENCES ADMINISTRATIVOS(ID),
VALOR_VENDA FLOAT NOT NULL,
FORMA_PAGAMENTO_ID_FK INT NOT NULL,
FOREIGN KEY (FORMA_PAGAMENTO_ID_FK) REFERENCES FORMAS_PAGAMENTO(ID)
)

CREATE TABLE ITENS_SAIDA
(
PRODUTO_ID_FK INT NOT NULL,
FOREIGN KEY (PRODUTO_ID_FK) REFERENCES PRODUTOS(ID),
QUANTIDADE INT NOT NULL
)

INSERT INTO ADMINISTRADORES (NOME, EMAIL, SENHA, ATIVO)
VALUES ('Arnold', 'arnold@omegahealthclub.com', 'iron666', 1)

INSERT INTO FORNECEDORES (NOME, NOME_FANTASIA, CNPJ, EMAIL, FONE, ESTADO, CIDADE, BAIRRO, RUA, NUMERO, ATIVO)
VALUES ('STN Suplementação alimentar e nutrição esportiva', 'Steel Nutrition', '56.998.701/0001-16', 'contato.stn@gmail.com', '11 4992-8086', '24', 'Santo Andre', 'Centro', 'Venezuela', 43, 1)

INSERT INTO MODALIDADES (NOME, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES ('Musculação', 120, 7, 1)
INSERT INTO MODALIDADES (NOME, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES ('Musculação', 300, 7, 3)
INSERT INTO MODALIDADES (NOME, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES ('Musculação', 480, 7, 6)
INSERT INTO MODALIDADES (NOME, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES ('Natação', 100, 1, 1)
INSERT INTO MODALIDADES (NOME, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES ('Natação', 150, 2, 1)
INSERT INTO MODALIDADES (NOME, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES ('Natação', 240, 1, 3)
INSERT INTO MODALIDADES (NOME, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES ('Natação', 390, 2, 3)
INSERT INTO MODALIDADES (NOME, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES ('Natação', 420, 1, 6)
INSERT INTO MODALIDADES (NOME, VALOR, QTDD_AULA_SEMANA, QTDD_MES)
VALUES ('Natação', 700, 2, 6)

INSERT INTO INSTRUTORES (NOME, EMAIL, SENHA, FONE, CPF, DATA_NASCIMENTO, RG, ESTADO, CIDADE, BAIRRO, RUA, NUMERO, SALARIO, COMISSAO, ATIVO)
VALUES ('Bruno dos Santos', 'bruno@arnoldhealthclub.com', 'iron666' , '47 55555-4444', '12345123451', '06/06/1985', '12345123', 23, 'Blumenau', 'Itoupava Central', 'Fides Mal', 456, 1700.54, 10, 1)

INSERT INTO CONVENIOS (EMPRESA, NOME_RESPONSAVEL, EMAIL_RESPONSAVEL, FONE_RESPONSAVEL, DATA_CONTRATO, PORCENTAGEM, ATIVO) 
VALUES ('Altona', 'Fernando Bruder', 'bruder@altona.com', '47 999994444', '10/10/2021', 40, 1)

INSERT INTO CLIENTES (NOME, CONVENIO_ID_FK, CPF, DATANASCIMENTO, EMAIL, FONE_CELULAR, FONE_FIXO, DATA_ADESAO_CONTRATO, DATA_TERMINO_CONTRATO, ATIVO)
VALUES ('Jaime Dellabenetta', 2, '90090090090', '05/05/1975', 'jaimedellabenetta@gmail.com', '47 9999-1111', null, '02/02/2021', '02/08/2021', 1)

INSERT INTO ADMINISTRATIVOS (NOME, EMAIL, SENHA, FONE, CPF, RG, DATA_NASCIMENTO, ESTADO, CIDADE, BAIRRO, RUA, NUMERO, SALARIO, COMISSAO, ATIVO)
VALUES ('Lucas Pinto', 'lucaspto@gmail.com', 'iron666', '47 99999-8888', '12345123451', '223334444', '05/05/1989', 23, 'Blumenau', 'Centro', '7 de setembro', 2056, 1700.99, 2, 1)

INSERT INTO FORMAS_PAGAMENTO VALUES ('Dinheiro')
INSERT INTO FORMAS_PAGAMENTO VALUES ('Crédito')
INSERT INTO FORMAS_PAGAMENTO VALUES ('Débito')
INSERT INTO FORMAS_PAGAMENTO VALUES ('Pix')

INSERT INTO PRODUTOS (NOME, DESCRICAO, MODALIDADES_ID_FK, PRECO_UNITARIO, DATA_VENCIMENTO, FORNECEDOR_ID_FK) 
VALUES ('Altere 5kg', 'Par de alteres 5kg cada







